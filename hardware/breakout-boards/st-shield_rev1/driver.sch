EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:borniers
LIBS:drv8303
LIBS:dual-pmos
LIBS:net-tie
LIBS:ad8691
LIBS:drv8301
LIBS:tlv62566
LIBS:st-shield-rev1-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 7
Title "SEM - MOSFET Array"
Date ""
Rev "v1.0"
Comp "Shell Eco-marathon Motor Controller"
Comment1 "Designed by: Brian Bove"
Comment2 "Oregon State University"
Comment3 "ASME"
Comment4 ""
$EndDescr
Wire Wire Line
	4450 3175 4250 3175
Wire Wire Line
	4450 3275 4250 3275
Wire Wire Line
	4450 3375 4250 3375
Wire Wire Line
	4450 3575 4250 3575
Wire Wire Line
	4450 3675 4250 3675
Text HLabel 4250 3175 0    60   Input ~ 0
GH_A
Text HLabel 4250 3375 0    60   Input ~ 0
GH_B
Text HLabel 4250 3575 0    60   Input ~ 0
GH_C
Text HLabel 4250 3275 0    60   Input ~ 0
GL_A
Text HLabel 4250 3475 0    60   Input ~ 0
GL_B
Text HLabel 4250 3675 0    60   Input ~ 0
GL_C
Text Notes 1350 6650 0    60   ~ 0
All caps:\nCeramic, 10% X7R\nPlace close to corresponding pins
Text Notes 1350 6900 0    60   ~ 0
C1, C5		           100V\nC2-4, C6-11		     25V
Text Notes 1350 7100 0    60   ~ 0
Q1, Q2 Fairchild BSS84 or equiv
Wire Notes Line
	1250 6300 1250 7200
Wire Notes Line
	1250 7200 3200 7200
Wire Notes Line
	3200 7200 3200 6300
Wire Notes Line
	3200 6300 1250 6300
$Comp
L DRV8301_DCA_56 U?
U 1 1 561B1611
P 4450 1575
F 0 "U?" H 5664 1934 50  0000 L BNN
F 1 "DRV8301_DCA_56" H 5627 1834 50  0000 L BNN
F 2 "_DCA56_6P35X3P61" H 4480 1725 20  0001 C CNN
F 3 "" H 4450 1575 60  0000 C CNN
	1    4450 1575
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 3475 4250 3475
Wire Wire Line
	4450 4275 4250 4275
Wire Wire Line
	4250 4275 4250 4700
$Comp
L GND #PWR?
U 1 1 561B2EB0
P 4250 4700
F 0 "#PWR?" H 4250 4450 50  0001 C CNN
F 1 "GND" H 4250 4550 50  0000 C CNN
F 2 "" H 4250 4700 60  0000 C CNN
F 3 "" H 4250 4700 60  0000 C CNN
	1    4250 4700
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 561B3118
P 3875 4500
F 0 "C?" H 3900 4600 50  0000 L CNN
F 1 "1u" H 3900 4400 50  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 3913 4350 30  0001 C CNN
F 3 "" H 3875 4500 60  0000 C CNN
	1    3875 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 4175 3875 4175
Wire Wire Line
	3875 4175 3875 4350
$Comp
L GND #PWR?
U 1 1 561B3734
P 3875 4700
F 0 "#PWR?" H 3875 4450 50  0001 C CNN
F 1 "GND" H 3875 4550 50  0000 C CNN
F 2 "" H 3875 4700 60  0000 C CNN
F 3 "" H 3875 4700 60  0000 C CNN
	1    3875 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	3875 4650 3875 4700
$Comp
L ZENERsmall D?
U 1 1 561B393E
P 3575 4500
F 0 "D?" H 3575 4600 40  0000 C CNN
F 1 "Vbkdn 3.3V" H 3575 4400 30  0000 C CNN
F 2 "" H 3575 4500 60  0000 C CNN
F 3 "" H 3575 4500 60  0000 C CNN
	1    3575 4500
	0    1    1    0   
$EndComp
$Comp
L ZENERsmall D?
U 1 1 561B3A6D
P 3325 4500
F 0 "D?" H 3325 4600 40  0000 C CNN
F 1 "Vbkdn 3.3V" H 3325 4400 30  0000 C CNN
F 2 "" H 3325 4500 60  0000 C CNN
F 3 "" H 3325 4500 60  0000 C CNN
	1    3325 4500
	0    1    1    0   
$EndComp
Wire Wire Line
	4450 4075 3575 4075
Wire Wire Line
	3575 4075 3575 4400
Wire Wire Line
	4450 3975 3325 3975
Wire Wire Line
	3325 3975 3325 4400
$Comp
L GND #PWR?
U 1 1 561B3E6E
P 3575 4700
F 0 "#PWR?" H 3575 4450 50  0001 C CNN
F 1 "GND" H 3575 4550 50  0000 C CNN
F 2 "" H 3575 4700 60  0000 C CNN
F 3 "" H 3575 4700 60  0000 C CNN
	1    3575 4700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 561B3EC7
P 3325 4700
F 0 "#PWR?" H 3325 4450 50  0001 C CNN
F 1 "GND" H 3325 4550 50  0000 C CNN
F 2 "" H 3325 4700 60  0000 C CNN
F 3 "" H 3325 4700 60  0000 C CNN
	1    3325 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	3575 4600 3575 4700
Wire Wire Line
	3325 4600 3325 4700
Wire Wire Line
	4450 3875 4250 3875
Text GLabel 4250 3875 0    60   Input ~ 0
3V3
Wire Wire Line
	4450 3775 3025 3775
Wire Wire Line
	3025 3775 3025 4350
$Comp
L C C?
U 1 1 561B4507
P 3025 4500
F 0 "C?" H 3050 4600 50  0000 L CNN
F 1 "1u" H 3050 4400 50  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 3063 4350 30  0001 C CNN
F 3 "" H 3025 4500 60  0000 C CNN
	1    3025 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 561B45A4
P 3025 4700
F 0 "#PWR?" H 3025 4450 50  0001 C CNN
F 1 "GND" H 3025 4550 50  0000 C CNN
F 2 "" H 3025 4700 60  0000 C CNN
F 3 "" H 3025 4700 60  0000 C CNN
	1    3025 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	3025 4650 3025 4700
Wire Wire Line
	4450 3075 4250 3075
Text HLabel 4250 3075 0    60   Input ~ 0
EN
Wire Wire Line
	4450 2775 2800 2775
Wire Wire Line
	2800 2775 2800 4350
$Comp
L C C?
U 1 1 561B5FB6
P 2800 4500
F 0 "C?" H 2825 4600 50  0000 L CNN
F 1 "2.2u" H 2825 4400 50  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 2838 4350 30  0001 C CNN
F 3 "" H 2800 4500 60  0000 C CNN
	1    2800 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 561B602C
P 2800 4700
F 0 "#PWR?" H 2800 4450 50  0001 C CNN
F 1 "GND" H 2800 4550 50  0000 C CNN
F 2 "" H 2800 4700 60  0000 C CNN
F 3 "" H 2800 4700 60  0000 C CNN
	1    2800 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 4650 2800 4700
$Comp
L C C?
U 1 1 561B67C5
P 3325 3175
F 0 "C?" H 3350 3275 50  0000 L CNN
F 1 ".022u" H 3350 3075 50  0000 L CNN
F 2 "" H 3363 3025 30  0000 C CNN
F 3 "" H 3325 3175 60  0000 C CNN
	1    3325 3175
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 2875 3325 2875
Wire Wire Line
	3325 2875 3325 3025
Wire Wire Line
	4450 2975 3600 2975
Wire Wire Line
	3600 2975 3600 3400
Wire Wire Line
	3600 3400 3325 3400
Wire Wire Line
	3325 3400 3325 3325
Text HLabel 4250 2275 0    60   Input ~ 0
SCS
Text HLabel 4250 2575 0    60   Input ~ 0
SCLK
Text HLabel 4250 2475 0    60   Output ~ 0
SDO
Text HLabel 4250 2375 0    60   Input ~ 0
SDI
Wire Wire Line
	4450 2575 4250 2575
Wire Wire Line
	4250 2475 4450 2475
Wire Wire Line
	4450 2375 4250 2375
Wire Wire Line
	4250 2275 4450 2275
Text HLabel 4250 2675 0    60   Input ~ 0
DC_CAL
Wire Wire Line
	4250 2675 4450 2675
$Comp
L POT RV?
U 1 1 561B984A
P 2400 4300
F 0 "RV?" V 2400 4150 50  0000 C CNN
F 1 "150k" H 2400 4300 50  0000 C CNN
F 2 "" H 2400 4300 60  0000 C CNN
F 3 "" H 2400 4300 60  0000 C CNN
	1    2400 4300
	0    1    1    0   
$EndComp
Wire Wire Line
	2400 2175 2400 4050
Wire Wire Line
	2600 4300 2550 4300
$Comp
L GND #PWR?
U 1 1 561B9852
P 2400 4700
F 0 "#PWR?" H 2400 4450 50  0001 C CNN
F 1 "GND" H 2400 4550 50  0000 C CNN
F 2 "" H 2400 4700 60  0000 C CNN
F 3 "" H 2400 4700 60  0000 C CNN
	1    2400 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 4550 2400 4700
Wire Wire Line
	2600 4300 2600 4600
Wire Wire Line
	2600 4600 2400 4600
Connection ~ 2400 4600
Wire Wire Line
	4450 2175 2400 2175
$Comp
L Led_Small D?
U 1 1 561BB8AE
P 1125 3125
F 0 "D?" V 1075 3250 50  0000 L CNN
F 1 "RED" H 1025 3025 50  0000 L CNN
F 2 "SMD_Packages:SMD-1206_Pol" V 1125 3125 60  0001 C CNN
F 3 "" V 1125 3125 60  0000 C CNN
	1    1125 3125
	0    -1   -1   0   
$EndComp
$Comp
L Led_Small D?
U 1 1 561BB8B4
P 1725 3125
F 0 "D?" V 1675 3250 50  0000 L CNN
F 1 "YELLOW" H 1550 3025 50  0000 L CNN
F 2 "SMD_Packages:SMD-1206_Pol" V 1725 3125 60  0001 C CNN
F 3 "" V 1725 3125 60  0000 C CNN
	1    1725 3125
	0    -1   -1   0   
$EndComp
$Comp
L R R?
U 1 1 561BB8BA
P 1125 4450
F 0 "R?" H 1225 4450 50  0000 C CNN
F 1 "100" V 1125 4450 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 1055 4450 30  0001 C CNN
F 3 "" H 1125 4450 30  0000 C CNN
	1    1125 4450
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 561BB8C0
P 1725 4450
F 0 "R?" H 1825 4450 50  0000 C CNN
F 1 "100" V 1725 4450 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 1655 4450 30  0001 C CNN
F 3 "" H 1725 4450 30  0000 C CNN
	1    1725 4450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 561BB8C6
P 1125 4700
F 0 "#PWR?" H 1125 4450 50  0001 C CNN
F 1 "GND" H 1125 4550 50  0000 C CNN
F 2 "" H 1125 4700 60  0000 C CNN
F 3 "" H 1125 4700 60  0000 C CNN
	1    1125 4700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 561BB8CC
P 1725 4700
F 0 "#PWR?" H 1725 4450 50  0001 C CNN
F 1 "GND" H 1725 4550 50  0000 C CNN
F 2 "" H 1725 4700 60  0000 C CNN
F 3 "" H 1725 4700 60  0000 C CNN
	1    1725 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1725 3225 1725 4300
Wire Wire Line
	1725 4600 1725 4700
Wire Wire Line
	1125 3225 1125 4300
Wire Wire Line
	1125 4600 1125 4700
Wire Wire Line
	2025 1975 4450 1975
Wire Wire Line
	2275 2075 4450 2075
$Comp
L R R?
U 1 1 561BB8D8
P 2075 1375
F 0 "R?" H 1975 1225 50  0000 C CNN
F 1 "10k" V 2075 1375 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 2005 1375 30  0001 C CNN
F 3 "" H 2075 1375 30  0000 C CNN
	1    2075 1375
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 561BB8DE
P 2275 1375
F 0 "R?" H 2375 1225 50  0000 C CNN
F 1 "10k" V 2275 1375 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 2205 1375 30  0001 C CNN
F 3 "" H 2275 1375 30  0000 C CNN
	1    2275 1375
	1    0    0    -1  
$EndComp
Wire Wire Line
	2075 1975 2075 1525
Wire Wire Line
	2275 1525 2275 2225
Wire Wire Line
	2075 1075 2075 1225
Connection ~ 1125 1075
Text GLabel 925  1075 0    60   Input ~ 0
3V3
$Comp
L Q_PMOS_GSD Q?
U 1 1 561BB8EB
P 1225 1975
F 0 "Q?" H 1525 2025 50  0000 R CNN
F 1 "Q_PMOS_GSD" H 1875 1925 50  0001 R CNN
F 2 "SparkFun:SparkFun-SOT23-3" H 1425 2075 29  0001 C CNN
F 3 "" H 1225 1975 60  0000 C CNN
	1    1225 1975
	-1   0    0    1   
$EndComp
$Comp
L Q_PMOS_GSD Q?
U 1 1 561BB8F1
P 1825 1975
F 0 "Q?" H 2125 2025 50  0000 R CNN
F 1 "Q_PMOS_GSD" H 2475 1925 50  0001 R CNN
F 2 "SparkFun:SparkFun-SOT23-3" H 2025 2075 29  0001 C CNN
F 3 "" H 1825 1975 60  0000 C CNN
	1    1825 1975
	-1   0    0    1   
$EndComp
Wire Wire Line
	1125 1775 1125 1075
Wire Wire Line
	1725 1075 1725 1775
Connection ~ 1725 1075
Wire Wire Line
	2275 2225 1425 2225
Wire Wire Line
	1425 2225 1425 1975
Wire Wire Line
	1725 2175 1725 3025
Wire Wire Line
	1125 2175 1125 3025
Connection ~ 2075 1975
Connection ~ 2075 1075
Connection ~ 2275 2075
Text Notes 700  2175 0    60   ~ 0
BSS84
Text Notes 1850 2175 0    60   ~ 0
BSS84
Wire Wire Line
	2925 1975 2925 1850
Connection ~ 2925 1975
Wire Wire Line
	3100 2075 3100 1850
Connection ~ 3100 2075
Text HLabel 2925 1850 1    60   Output ~ 0
OCTW
Text HLabel 3100 1850 1    60   Output ~ 0
FAULT
NoConn ~ 4450 1875
NoConn ~ 7250 1775
Text Label 4250 1775 2    60   ~ 12
VSENSE
Wire Wire Line
	4450 1775 4250 1775
Wire Wire Line
	925  1075 2275 1075
Wire Wire Line
	2275 1075 2275 1225
$Comp
L C C?
U 1 1 561C1A3F
P 8150 3575
F 0 "C?" H 8175 3675 50  0000 L CNN
F 1 ".1u" H 8175 3475 50  0000 L CNN
F 2 "" H 8188 3425 30  0000 C CNN
F 3 "" H 8150 3575 60  0000 C CNN
	1    8150 3575
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 561C1C1F
P 8150 3075
F 0 "C?" H 8175 3175 50  0000 L CNN
F 1 ".1u" H 8175 2975 50  0000 L CNN
F 2 "" H 8188 2925 30  0000 C CNN
F 3 "" H 8150 3075 60  0000 C CNN
	1    8150 3075
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 561C1CEF
P 8150 2575
F 0 "C?" H 8175 2675 50  0000 L CNN
F 1 ".1u" H 8175 2475 50  0000 L CNN
F 2 "" H 8188 2425 30  0000 C CNN
F 3 "" H 8150 2575 60  0000 C CNN
	1    8150 2575
	1    0    0    -1  
$EndComp
Wire Wire Line
	8150 2425 7925 2425
Wire Wire Line
	7925 2425 7925 2475
Wire Wire Line
	7925 2475 7250 2475
Wire Wire Line
	8150 2725 7925 2725
Wire Wire Line
	7925 2675 7925 2775
Wire Wire Line
	7925 2675 7250 2675
Wire Wire Line
	8150 2925 7925 2925
Wire Wire Line
	7925 2925 7925 2975
Wire Wire Line
	7925 2975 7250 2975
Wire Wire Line
	8150 3225 7925 3225
Wire Wire Line
	7925 3175 7925 3275
Wire Wire Line
	7925 3175 7250 3175
Wire Wire Line
	8150 3425 7925 3425
Wire Wire Line
	7925 3425 7925 3475
Wire Wire Line
	7925 3475 7250 3475
Wire Wire Line
	8150 3725 7925 3725
Wire Wire Line
	7925 3675 7925 3775
Wire Wire Line
	7925 3675 7250 3675
Wire Wire Line
	7925 3775 8150 3775
Connection ~ 7925 3725
Text HLabel 8150 3775 2    60   Input ~ 0
SH_C
Wire Wire Line
	7250 3575 7375 3575
Wire Wire Line
	7250 3775 7375 3775
Wire Wire Line
	7250 3875 7375 3875
Wire Wire Line
	7250 3375 7375 3375
Wire Wire Line
	7250 3275 7375 3275
Wire Wire Line
	7250 3075 7375 3075
Wire Wire Line
	7250 2875 7375 2875
Wire Wire Line
	7250 2775 7375 2775
Wire Wire Line
	7925 3275 8150 3275
Connection ~ 7925 3225
Wire Wire Line
	7925 2775 8150 2775
Connection ~ 7925 2725
Text HLabel 8150 3275 2    60   Input ~ 0
SH_B
Text HLabel 8150 2775 2    60   Input ~ 0
SH_A
Text HLabel 7375 2575 2    60   Output ~ 0
GH_A
Wire Wire Line
	7375 2575 7250 2575
Text HLabel 7375 2775 2    60   Output ~ 0
GL_A
Text HLabel 7375 3075 2    60   Output ~ 0
GH_A
Text HLabel 7375 3575 2    60   Output ~ 0
GH_A
Text HLabel 7375 3275 2    60   Output ~ 0
GL_B
Text HLabel 7375 3775 2    60   Output ~ 0
GL_C
Text HLabel 7375 2875 2    60   Input ~ 0
SL_A
Text HLabel 7375 3375 2    60   Input ~ 0
SL_A
Text HLabel 7375 3875 2    60   Input ~ 0
SL_A
Wire Wire Line
	7250 2375 7375 2375
Text GLabel 7375 2375 2    60   Input ~ 0
3V3
$Comp
L C C?
U 1 1 561C4E0C
P 8150 2100
F 0 "C?" H 8175 2200 50  0000 L CNN
F 1 ".1u" H 8175 2000 50  0000 L CNN
F 2 "" H 8188 1950 30  0000 C CNN
F 3 "" H 8150 2100 60  0000 C CNN
	1    8150 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	7875 2075 7250 2075
Wire Wire Line
	7250 1975 7400 1975
Wire Wire Line
	7400 1975 7400 1875
Wire Wire Line
	7250 1875 8950 1875
Wire Wire Line
	8650 1875 8650 2000
Connection ~ 7400 1875
$Comp
L C C?
U 1 1 561C53ED
P 8650 2150
F 0 "C?" H 8675 2250 50  0000 L CNN
F 1 ".1u" H 8675 2050 50  0000 L CNN
F 2 "" H 8688 2000 30  0000 C CNN
F 3 "" H 8650 2150 60  0000 C CNN
	1    8650 2150
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 561C54AC
P 8950 2150
F 0 "C?" H 8975 2250 50  0000 L CNN
F 1 ".1u" H 8975 2050 50  0000 L CNN
F 2 "" H 8988 2000 30  0000 C CNN
F 3 "" H 8950 2150 60  0000 C CNN
	1    8950 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	8950 1875 8950 2000
Connection ~ 8650 1875
Wire Wire Line
	8650 2300 8650 2400
Wire Wire Line
	8950 2300 8950 2400
$Comp
L GND #PWR?
U 1 1 561C58BA
P 8650 2400
F 0 "#PWR?" H 8650 2150 50  0001 C CNN
F 1 "GND" H 8650 2250 50  0000 C CNN
F 2 "" H 8650 2400 60  0000 C CNN
F 3 "" H 8650 2400 60  0000 C CNN
	1    8650 2400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 561C5950
P 8950 2400
F 0 "#PWR?" H 8950 2150 50  0001 C CNN
F 1 "GND" H 8950 2250 50  0000 C CNN
F 2 "" H 8950 2400 60  0000 C CNN
F 3 "" H 8950 2400 60  0000 C CNN
	1    8950 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 2275 8150 2275
Wire Wire Line
	7250 2175 7400 2175
Wire Wire Line
	7400 2175 7400 2275
Connection ~ 7400 2275
Wire Wire Line
	7875 1950 7875 2075
Wire Wire Line
	7875 1950 8150 1950
Wire Wire Line
	7925 2275 7925 2350
Wire Wire Line
	7925 2350 8150 2350
Connection ~ 7925 2275
Text Label 8150 2350 0    60   ~ 12
PH
Wire Wire Line
	8150 2275 8150 2250
$EndSCHEMATC
